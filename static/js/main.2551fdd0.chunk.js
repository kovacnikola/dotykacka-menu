(this["webpackJsonpdotykacka-menu"]=this["webpackJsonpdotykacka-menu"]||[]).push([[0],{187:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(10),r=n.n(c),o=n(61),s=n(103),l=n(31),d=n(62),u=n.n(d),j=n(220),m=n(232),b=n(51),p=n(228),h=n(101),f=n.n(h),O=n(233),g=n(231),x=n(225),v=n(226),y=n(227),k=n(229),N=n(234),w=n(223),C=n(96),z=n.n(C),S=n(97),F=n.n(S),A=n(98),I=n(230),B=n(102),R=n(100),J=n.n(R),P=n(6),D=Object(j.a)((function(e){return{paper:{width:200,height:230,overflow:"auto"},button:{margin:e.spacing(.5,0)},main:{padding:"1em"},container:{margin:"1em"},outer:{display:"table",position:"absolute",top:0,left:0,height:"100%",width:"100%"},middle:{display:"table-cell",verticalAlign:"middle"},inner:{marginLeft:"auto",marginRight:"auto",width:600,marginBottom:"6em"}}})),E=function(){var e=D(),t=i.a.useState([]),n=Object(l.a)(t,2),c=n[0],r=n[1],d=i.a.useState([]),j=Object(l.a)(d,2),h=j[0],C=j[1],S=i.a.useState([]),R=Object(l.a)(S,2),E=R[0],T=R[1],V=function(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))},Z=V(c,h),L=V(c,E),M=function(e){return function(){var t=c.indexOf(e),n=Object(s.a)(c);-1===t?n.push(e):n.splice(t,1),r(n)}},W=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},_=function(t){return Object(P.jsx)(w.a,{className:e.paper,children:Object(P.jsxs)(x.a,{dense:!0,component:"div",role:"list",children:[t.map((function(e){var t="transfer-list-item-".concat(e,"-label");return Object(P.jsxs)(v.a,{role:"listitem",button:!0,onClick:M(e),children:[Object(P.jsx)(y.a,{children:Object(P.jsx)(N.a,{checked:-1!==c.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})}),Object(P.jsx)(k.a,{id:t,primary:e.category})]},e.id)})),Object(P.jsx)(v.a,{})]})})},q=Object(a.useState)({name:"Nahr\xe1t \u0161ablonu"}),G=Object(l.a)(q,2),H=G[0],K=G[1],Q=Object(a.useState)(),U=Object(l.a)(Q,2),X=U[0],Y=U[1],$=Object(a.useState)(),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae={categories:[]};return Object(P.jsx)(I.a,{theme:Object(B.a)({palette:{primary:{main:J.a[600],contrastText:"#FFF"}}}),children:Object(P.jsx)("div",{class:"outer",className:e.outer,children:Object(P.jsx)("div",{class:"middle",className:e.middle,children:Object(P.jsx)("div",{class:"inner",className:e.inner,children:Object(P.jsxs)(w.a,{elevation:3,className:e.main,children:[Object(P.jsx)("div",{className:e.container,children:Object(P.jsx)(b.a,{variant:"h4",children:"dotykacka-menu"})}),Object(P.jsxs)("div",{className:e.container,children:[Object(P.jsx)(O.a,{label:"Cloud ID",variant:"outlined",size:"small",style:{marginRight:"1em"},onChange:function(e){return Y(e.target.value)}}),Object(P.jsx)(O.a,{label:"P\u0159\xedstupov\xfd token",variant:"outlined",size:"small",onChange:function(e){return ne(e.target.value)}}),Object(P.jsx)(p.a,{onClick:function(){te&&u.a.get("https://api.dotykacka.cz/v2/clouds/".concat(X,"/categories?limit=100"),{headers:{Authorization:"Bearer ".concat(te)}}).then((function(e){C(e.data.data.map((function(e){return{id:e.id,category:e.name,items:[]}}))),T([])}))},children:Object(P.jsx)(f.a,{})})]}),Object(P.jsx)("div",{className:e.container,children:Object(P.jsxs)(g.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[Object(P.jsx)(g.a,{item:!0,children:_(h)}),Object(P.jsx)(g.a,{item:!0,children:Object(P.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(P.jsx)(m.a,{variant:"outlined",size:"small",className:e.button,onClick:function(){T(E.concat(Z)),C(W(h,Z)),r(W(c,Z))},disabled:0===Z.length,children:">"}),Object(P.jsx)(m.a,{variant:"outlined",size:"small",className:e.button,onClick:function(){C(h.concat(L)),T(W(E,L)),r(W(c,L))},disabled:0===L.length,children:"<"})]})}),Object(P.jsx)(g.a,{item:!0,children:_(E)})]})}),Object(P.jsxs)("div",{className:e.container,children:[Object(P.jsx)("input",{accept:".docx",id:"contained-button-file",onChange:function(e){K(e.target.files[0])},type:"file",hidden:!0}),Object(P.jsx)("label",{htmlFor:"contained-button-file",children:Object(P.jsx)(m.a,{variant:"outlined",color:"primary",component:"span",style:{marginRight:"1em"},children:H.name})}),Object(P.jsx)(m.a,{color:"primary",variant:"contained",onClick:function(){ae.categories=E,u.a.get("https://api.dotykacka.cz/v2/clouds/".concat(X,"/products?limit=100"),{headers:{Authorization:"Bearer ".concat(te)}}).then((function(e){var t,n=Object(o.a)(e.data.data);try{var a=function(){var e=t.value,n=ae.categories.find((function(t){return t.id==e._categoryId}));n&&n.items.push({item:e.name,price:e.priceWithVat})};for(n.s();!(t=n.n()).done;)a()}catch(s){n.e(s)}finally{n.f()}var i,c=Object(o.a)(ae.categories);try{for(c.s();!(i=c.n()).done;){i.value.items.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)}))}}catch(s){c.e(s)}finally{c.f()}var r=new FileReader;r.readAsBinaryString(H);r.onload=function(){var e=new F.a(r.result),t=(new z.a).loadZip(e);try{t.setData(ae),t.render()}catch(i){if(console.log(JSON.stringify({error:i},(function(e,t){return t instanceof Error?Object.getOwnPropertyNames(t).reduce((function(e,n){return e[n]=t[n],e}),{}):t}))),i.properties&&i.properties.errors instanceof Array){var n=i.properties.errors.map((function(e){return e.properties.explanation})).join("\n");console.log("errorMessages",n)}throw i}var a=t.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});Object(A.saveAs)(a,"menu.docx")}}))},children:"Vygenerovat"})]})]})})})})})};r.a.render(Object(P.jsx)(E,{}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.2551fdd0.chunk.js.map